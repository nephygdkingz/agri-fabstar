{% extends './base.html' %}
{% load static %}
{% block title %}{{ meta_title }}{% endblock %}

{% block content %}
<!-- ===== HERO SECTION ===== -->
<section id="hero" class="position-relative">
    <div id="heroCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="5000">

        <div class="carousel-inner">

            <!-- Slide 1 -->
            <div class="carousel-item active"
                style="background-image: url('/static/frontend/images/heroes/hero-5.jpg');">
                <div class="carousel-overlay d-flex align-items-center">
                    <div class="container text-center text-light">
                        <h1 class="display-5 fw-bold mb-3">Empowering Farmers, Enriching Harvests</h1>
                        <p class="lead mb-4">High-quality seeds, fertilizers, and farm equipment. Everything you
                            need to grow successfully.</p>
                        <a href="#" class="btn btn-accent btn-lg px-4">Order Now</a>
                    </div>
                </div>
            </div>

            <!-- Slide 2 -->
            <div class="carousel-item" style="background-image: url('/static/frontend/images/heroes/hero-3.jpg');">
                <div class="carousel-overlay d-flex align-items-center">
                    <div class="container text-center text-light">
                        <h1 class="display-5 fw-bold mb-3">Sustainable Agriculture for the Future</h1>
                        <p class="lead mb-4">We support eco-friendly and innovative farming solutions.</p>
                        <a href="#" class="btn btn-light btn-lg px-4">Learn More</a>
                    </div>
                </div>
            </div>

            <!-- Slide 3 -->
            <div class="carousel-item" style="background-image: url('/static/frontend/images/heroes/hero-4.jpg');">
                <div class="carousel-overlay d-flex align-items-center">
                    <div class="container text-center text-light">
                        <h1 class="display-5 fw-bold mb-3">From Our Fields to Your Table</h1>
                        <p class="lead mb-4">Supplying trusted farm produce and equipment nationwide.</p>
                        <a href="#" class="btn btn-accent btn-lg px-4">Explore Products</a>
                    </div>
                </div>
            </div>

        </div>

        <!-- Controls -->
        <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>

    </div>
</section>
<section id="hero-end">
    <div class="hexagon-row d-flex justify-content-center align-items-end">
        <div class="hexagon-border">
            <div class="hexagon">
                <div class="hex-content">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="40" height="40" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 22s8-4.5 8-10.5S13.5 2 12 2 4 7.5 4 11.5 12 22 12 22z"></path>
                        <line x1="12" y1="2" x2="12" y2="11.5"></line>
                    </svg>

                    <p>Livestock</p>
                </div>
            </div>
        </div>

        <div class="hexagon-border">
            <div class="hexagon">
                <div class="hex-content">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="40" height="40" fill="none"
                        stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M8 48h48v-20H40l-8-8-8 8H8z"></path>
                        <circle cx="16" cy="48" r="8"></circle>
                        <circle cx="48" cy="48" r="8"></circle>
                        <path d="M40 28v-8h8v8"></path>
                    </svg>

                    <p>Rice</p>
                </div>
            </div>
        </div>

        <div class="hexagon-border">
            <div class="hexagon">
                <div class="hex-content">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="40" height="40" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <path d="M2 22h20"></path>
                        <path d="M18 2l4 4L14 14l-4-4L18 2z"></path>
                        <path d="M6 2l4 4L2 14l-4-4L6 2z" transform="translate(12,0) scale(-1,1)"></path>
                    </svg>

                    <p>Gas</p>
                </div>
            </div>
        </div>
        <div class="hexagon-border">
            <div class="hexagon">
                <div class="hex-content">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="40" height="40" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 22V2"></path>
                        <path d="M12 6l4 4"></path>
                        <path d="M12 6l-4 4"></path>
                        <path d="M12 14l4 4"></path>
                        <path d="M12 14l-4 4"></path>
                    </svg>

                    <p>Logistics</p>
                </div>
            </div>
        </div>

    </div>
    <div class="container pt-md-3 pb-md-3">
        <div class="row align-items-center pt-5">

            <!-- Left side -->
            <div class="col-md-6 left-content mt-md-4">
                <h4 class="text-white mb-3">Sunrise on the fields ‚Äî Supplies that help your farm thrive.</h4>
                <ul class="text-white list-unstyled mb-0">
                    <li>‚úî High quality seeds to boost yield</li>
                    <li>‚úî Organic and chemical fertilizers</li>
                    <li>‚úî Durable farm equipment and tools</li>
                    <li>‚úî Fresh produce direct to your table</li>
                </ul>
            </div>

            <!-- Vertical Divider -->
            <div class="col-md-1 d-none d-md-flex justify-content-center">
                <div class="vertical-divider"></div>
            </div>

            <!-- Right side -->
            <div class="col-md-5 right-content mt-3 mt-md-0">
                <div class="circle-stats-row d-flex justify-content-center gap-4 flex-wrap">
                    <div class="circle-stat">
                        <div class="circle-inner">
                            <h2>95%</h2>
                            <p>Satisfaction</p>
                        </div>
                    </div>
                    <div class="circle-stat">
                        <div class="circle-inner">
                            <h2>500+</h2>
                            <p>Farms Served</p>
                        </div>
                    </div>
                    <div class="circle-stat">
                        <div class="circle-inner">
                            <h2>30yrs</h2>
                            <p>Experience</p>
                        </div>
                    </div>
                </div>

                <div class="circle-caption text-center mt-4">
                    <p class="text-white fw-semibold">
                        Trusted by farmers across the nation ‚Äî delivering quality and results, season after season.
                    </p>
                </div>
            </div>


        </div>
    </div>

</section>
<!-- ===== END HERO SECTION ===== -->

<!-- ===== CATEGORIES SECTION ===== -->
<section id="categories" class="py-5" style="background-color: var(--color-gray-light);">
    <div class="container text-center fade-up">
        <h2 class="fw-bold mb-4 text-uppercase" style="color: var(--color-primary);">
            Shop by Category
        </h2>
        <p class="text-muted mb-5 fade-up">
            Explore our wide range of agricultural and farm products
        </p>

        <div class="row g-4">
            <!-- Category 1 -->
            <div class="col-6 col-md-3 fade-up">
                <div class="category-card shadow-sm p-4 rounded-4 bg-white h-100">
                    <div class="category-icon mb-3 text-accent">
                        <i class="bi bi-flower1 display-5"></i>
                    </div>
                    <h5 class="fw-semibold mb-2">Seeds</h5>
                    <p class="small text-muted mb-0">High-yield crop & vegetable seeds</p>
                </div>
            </div>

            <!-- Category 2 -->
            <div class="col-6 col-md-3 fade-up">
                <div class="category-card shadow-sm p-4 rounded-4 bg-white h-100">
                    <div class="category-icon mb-3 text-accent">
                        <i class="bi bi-droplet-half display-5"></i>
                    </div>
                    <h5 class="fw-semibold mb-2">Fertilizers</h5>
                    <p class="small text-muted mb-0">Organic & inorganic fertilizers</p>
                </div>
            </div>

            <!-- Category 3 -->
            <div class="col-6 col-md-3 fade-up">
                <div class="category-card shadow-sm p-4 rounded-4 bg-white h-100">
                    <div class="category-icon mb-3 text-accent">
                        <i class="bi bi-tools display-5"></i>
                    </div>
                    <h5 class="fw-semibold mb-2">Tools</h5>
                    <p class="small text-muted mb-0">Farming & hand tools</p>
                </div>
            </div>

            <!-- Category 4 -->
            <div class="col-6 col-md-3 fade-up">
                <div class="category-card shadow-sm p-4 rounded-4 bg-white h-100">
                    <div class="category-icon mb-3 text-accent">
                        <i class="bi bi-truck-front-fill display-5"></i>
                    </div>
                    <h5 class="fw-semibold mb-2">Machinery</h5>
                    <p class="small text-muted mb-0">Farm machines & irrigation</p>
                </div>
            </div>
        </div>

        <!-- View All Button -->
        <div class="my-5 fade-up">
            <a href="#" class="btn btn-view-all px-4 py-2 fw-semibold">
                <i class="bi bi-grid-3x3-gap-fill me-2"></i> View All Categories
            </a>
        </div>
    </div>
</section>
<!-- ===== END CATEGORIES SECTION ===== -->

<!-- ===== FEATURED PRODUCTS SECTION ===== -->
<section class="mb-5 featured-products">
    <div class="container-sm pt-5 pb-3">
        <div class="d-flex align-items-center justify-content-between mb-3">
            <h3 class="mb-0 text-light">Featured products</h3>
            <a href="{% url 'frontend:product_list' %}" class="small text-light">See more ‚Üí</a>
        </div>
        <div class="swiper featured-products-swiper">
            <div class="swiper-wrapper">
                {% for product in featured_products %}
                <div class="swiper-slide">
                    <div class="card product-card">
                        <div class="img-wrap">
                            <img loading="lazy"
                                src="{{ product.featured_image }}"
                                alt="Seed bag product">
                        </div>
                        <div class="p-3">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <div>
                                    <h6 class="mb-1">{{product.name}}</h6>
                                    <!-- <small class="text-muted">{{product.short_description}}</small> -->
                                </div>
                                {% if product.has_discount %}
                                <div class="text-end">
                                    <div class="badge-discount">-{{product.sale_percent}}%</div>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            <!-- Optional navigation arrows -->
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
        </div>


    </div>
</section>
<!-- ===== END FEATURED PRODUCTS SECTION ===== -->\

<!-- ===== PROMOTIONAL BANNER ================ -->
<section class="my-2">
    <div class="container-sm">
        <div class="promo-banner-one p-4"
            style="background-image: url('https://source.unsplash.com/1600x600/?farm,crops'); background-size:cover; background-position:center;">
            <div class="overlay"></div>
            <div class="row align-items-center">
                <div class="col-12 col-md-8 text-white position-relative" style="z-index:2;">
                    <h3>Get 10% Off Your First Order</h3>
                    <p class="mb-0">Sign up today and receive a discount on your first purchase. Expert help included.
                    </p>
                </div>
                <div class="col-12 col-md-4 text-md-end mt-3 mt-md-0" style="z-index:2;">
                    <a href="#" class="btn btn-lg btn-primary-custom">Get 10% Off</a>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ===== PROMOTIONAL BANNER ================ -->

<!-- ===== WHY CHOOSE US SECTION ===== -->
<section id="why-choose-us" class="py-5 enhanced-why-choose">
    <div class="container">
        <div class="row align-items-center">

            <!-- Image Side -->
            <div class="col-md-6 mb-4 mb-md-0 fade-up">
                <img src="{% static 'frontend/images/fruits/about-image.webp' %}" alt="Farmers working"
                    class="img-fluid rounded-4 shadow-sm">
            </div>

            <!-- Content Side -->
            <div class="col-md-6 fade-up" style="animation-delay: 0.2s;">
                <h2 class="fw-bold text-uppercase mb-3" style="color: var(--color-primary);">
                    Why Choose Fabstar?
                </h2>
                <p class="text-muted mb-4">
                    At Fabstar Limited, we're committed to empowering farmers with high-quality products,
                    expert guidance, and modern farming innovations. From seeds to equipment, we help
                    you grow with confidence.
                </p>

                <div class="row g-3">
                    <div class="col-6 d-flex align-items-start fade-up" style="animation-delay: 0.3s;">
                        <i class="bi bi-award fs-3 text-accent me-2"></i>
                        <div>
                            <h6 class="fw-semibold mb-1">Quality Assured</h6>
                            <p class="small text-muted mb-0">Only tested and certified inputs make it to our
                                shelves.</p>
                        </div>
                    </div>

                    <div class="col-6 d-flex align-items-start fade-up" style="animation-delay: 0.4s;">
                        <i class="bi bi-truck fs-3 text-accent me-2"></i>
                        <div>
                            <h6 class="fw-semibold mb-1">Fast Delivery</h6>
                            <p class="small text-muted mb-0">Nationwide delivery that keeps your farm on schedule.
                            </p>
                        </div>
                    </div>

                    <div class="col-6 d-flex align-items-start fade-up" style="animation-delay: 0.5s;">
                        <i class="bi bi-people fs-3 text-accent me-2"></i>
                        <div>
                            <h6 class="fw-semibold mb-1">Expert Support</h6>
                            <p class="small text-muted mb-0">Our team of agronomists is here to guide you.</p>
                        </div>
                    </div>

                    <div class="col-6 d-flex align-items-start fade-up" style="animation-delay: 0.6s;">
                        <i class="bi bi-cash-coin fs-3 text-accent me-2"></i>
                        <div>
                            <h6 class="fw-semibold mb-1">Affordable Pricing</h6>
                            <p class="small text-muted mb-0">Get premium quality at competitive market prices.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ===== END WHY CHOOSE US SECTION ===== -->

<!-- ===== PROMOTIONAL BANNER SECTION ===== -->
<section id="promo-banner" class="promo-banner text-center text-light py-5 fade-up">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">

                <h2 class="fw-bold mb-3">
                    üåæ <span class="text-accent">Harvest Season Sale!</span>
                </h2>

                <p class="lead mb-4">
                    Enjoy up to <span class="fw-bold text-accent">30% off</span> on all farm inputs this season.
                    From seeds to fertilizers ‚Äî everything you need to grow more for less.
                </p>

                <a href="#" class="btn btn-light btn-lg px-4 py-2 rounded-pill shadow-sm fw-semibold">
                    <i class="bi bi-basket-fill me-2"></i> Shop Now
                </a>

            </div>
        </div>
    </div>
</section>
<!-- ===== END PROMOTIONAL BANNER SECTION ===== -->

<!-- ===== GALLERY SECTION ===== -->
<section id="gallery" class="py-5 text-center">
    <div class="container">
        <h2 class="fw-bold mb-3 text-uppercase fade-up" style="color: var(--color-primary);">
            Our Farm Gallery
        </h2>
        <p class="text-muted mb-5 fade-up" style="animation-delay: 0.1s;">
            Explore moments from our fields, produce, and farming life.
        </p>

        <!-- üñ•Ô∏è Desktop / Tablet Masonry Grid -->
        <div class="gallery-grid d-none d-md-grid fade-up" style="animation-delay: 0.1s;" \>
            <div class="gallery-item wide">
                <img src="{% static 'frontend/images/livestock/livestock-3.jpg' %}" alt="Fresh Tomatoes">
            </div>
            <div class="gallery-item">
                <img src="{% static 'frontend/images/livestock/livestock-2.jpg' %}" alt="Farm Field">
            </div>
            <div class="gallery-item tall">
                <img src="https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=1000&q=60"
                    alt="Fruits Basket">
            </div>
            <div class="gallery-item">
                <img src="https://images.unsplash.com/photo-1567306301408-9b74779a11af?auto=format&fit=crop&w=1000&q=60"
                    alt="Green Crops">
            </div>
            <div class="gallery-item wide">
                <img src="{% static 'frontend/images/livestock/gasplant-4.jpg' %}" alt="Vegetables Display">
            </div>
            <!-- <div class="gallery-item wide">
        <img src="https://images.unsplash.com/photo-1567306301408-9b74779a11af?auto=format&fit=crop&w=1000&q=60" alt="Farm Market">
      </div> -->
        </div>

        <!-- üì± Mobile Swiper -->
        <div class="gallery-swiper d-md-none fade-up">
            <div class="swiper myGallerySwiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <img src="{% static 'frontend/images/livestock/livestock-3.jpg' %}" alt="Fresh Tomatoes">
                    </div>
                    <div class="swiper-slide">
                        <img src="{% static 'frontend/images/livestock/livestock-2.jpg' %}" alt="Farm Field">
                    </div>
                    <div class="swiper-slide">
                        <img src="https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=1000&q=60"
                            alt="Fruits Basket">
                    </div>
                    <div class="swiper-slide">
                        <img src="https://images.unsplash.com/photo-1506806732259-39c2d0268443?auto=format&fit=crop&w=800&q=60"
                            alt="Green Crops">
                    </div>
                    <div class="swiper-slide">
                        <img src="{% static 'frontend/images/livestock/livestock-1.jpg' %}" alt="Vegetables Display">
                    </div>
                    <div class="swiper-slide">
                        <img src="https://images.unsplash.com/photo-1567306301408-9b74779a11af?auto=format&fit=crop&w=1000&q=60"
                            alt="Farm Market">
                    </div>
                </div>

                <!-- Pagination Dots -->
                <div class="swiper-pagination mt-3"></div>
            </div>

            <!-- üåø View Full Gallery Button -->
            <!-- <div class="mt-4">
        <button id="viewFullGallery" class="btn btn-accent btn-sm px-4 py-2">
          View Full Gallery
        </button>
      </div> -->
        </div>
    </div>
</section>

<!-- ===============================
     LIGHTBOX POPUP
================================= -->
<div id="lightbox">
    <button class="lightbox-close">&times;</button>
    <button class="lightbox-prev">&lsaquo;</button>
    <div class="lightbox-content">
        <img src="" alt="">
        <p class="lightbox-caption"></p>
    </div>
    <button class="lightbox-next">&rsaquo;</button>
</div>

<!-- ===== END GALLERY SECTION ===== -->


<!-- ===== BLOG SECTION ===== -->
<section id="blog" class="py-5 bg-light">
    <div class="container text-center">
        <h2 class="fw-bold mb-3 text-uppercase fade-up" style="color: var(--color-primary);">
            Latest from Our Blog
        </h2>
        <p class="text-muted mb-5 fade-up" style="animation-delay: 0.1s;">
            Insights and updates from the world of modern agriculture
        </p>

        <div class="row g-4 justify-content-center fade-up" style="animation-delay: 0.2s;">
            <!-- Blog Post 1 -->
            <div class="col-10 col-md-4">
                <div class="card border-0 shadow-sm rounded-4 h-100 blog-card">
                    <img src="https://images.unsplash.com/photo-1556761175-5973dc0f32e7?auto=format&fit=crop&w=800&q=80"
                        class="card-img-top rounded-top-4" alt="Crop rotation">
                    <div class="card-body text-start">
                        <h6 class="fw-bold text-dark">Smart Crop Rotation for Better Yields</h6>
                        <p class="small text-muted mb-3">Learn how rotating crops improves soil and boosts production.
                        </p>
                        <a href="#" class="text-accent text-decoration-none fw-semibold">Read More ‚Üí</a>
                    </div>
                </div>
            </div>

            <!-- Blog Post 2 -->
            <div class="col-10 col-md-4">
                <div class="card border-0 shadow-sm rounded-4 h-100 blog-card">
                    <img src="https://images.unsplash.com/photo-1556761175-5973dc0f32e7?auto=format&fit=crop&w=800&q=80"
                        class="card-img-top rounded-top-4" alt="Organic fertilizer">
                    <div class="card-body text-start">
                        <h6 class="fw-bold text-dark">Choosing the Right Organic Fertilizer</h6>
                        <p class="small text-muted mb-3">A guide to selecting fertilizers that nourish both crops and
                            soil.</p>
                        <a href="#" class="text-accent text-decoration-none fw-semibold">Read More ‚Üí</a>
                    </div>
                </div>
            </div>

            <!-- Blog Post 3 -->
            <div class="col-10 col-md-4">
                <div class="card border-0 shadow-sm rounded-4 h-100 blog-card">
                    <img src="https://images.unsplash.com/photo-1556761175-5973dc0f32e7?auto=format&fit=crop&w=800&q=80"
                        class="card-img-top rounded-top-4" alt="Farm technology">
                    <div class="card-body text-start">
                        <h6 class="fw-bold text-dark">Technology Transforming Small Farms</h6>
                        <p class="small text-muted mb-3">Discover how innovation helps farmers grow smarter and faster.
                        </p>
                        <a href="#" class="text-accent text-decoration-none fw-semibold">Read More ‚Üí</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ===== END BLOG SECTION ===== -->

<!-- ===== TESTIMONIALS SECTION ===== -->
<section id="testimonials" class="py-5 bg-light fade-up">
    <div class="container text-center">
        <h2 class="fw-bold mb-4 ">What Our Customers Say</h2>
        <p class="text-muted mb-5">Trusted by farmers, agribusinesses, and distributors across the region.</p>

        <div id="testimonialCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel"
            data-bs-interval="6000">
            <div class="carousel-inner">

                <!-- Testimonial 1 -->
                <div class="carousel-item active">
                    <div class="card border-0 shadow-sm mx-auto" style="max-width: 600px;">
                        <div class="card-body">
                            <i class="bi bi-chat-quote-fill fs-1 text-accent mb-3"></i>
                            <p class="lead fst-italic">
                                ‚ÄúFabstar's quality seeds and fertilizers helped us increase our yield by over 40%
                                this season.
                                Their delivery is always prompt and reliable!‚Äù
                            </p>
                            <h5 class="fw-bold mt-3 mb-0 ">‚Äî Chinedu O., Ebonyi State</h5>
                            <small class="text-muted">Rice Farmer</small>
                        </div>
                    </div>
                </div>

                <!-- Testimonial 2 -->
                <div class="carousel-item">
                    <div class="card border-0 shadow-sm mx-auto" style="max-width: 600px;">
                        <div class="card-body">
                            <i class="bi bi-chat-quote-fill fs-1 text-accent mb-3"></i>
                            <p class="lead fst-italic">
                                ‚ÄúI love their customer support ‚Äî very professional and helpful. Fabstar makes
                                sourcing farm inputs stress-free and affordable.‚Äù
                            </p>
                            <h5 class="fw-bold mt-3 mb-0 ">‚Äî Aisha T., Kano</h5>
                            <small class="text-muted">Agro Distributor</small>
                        </div>
                    </div>
                </div>

                <!-- Testimonial 3 -->
                <div class="carousel-item">
                    <div class="card border-0 shadow-sm mx-auto" style="max-width: 600px;">
                        <div class="card-body">
                            <i class="bi bi-chat-quote-fill fs-1 text-accent mb-3"></i>
                            <p class="lead fst-italic">
                                ‚ÄúThe best agro-supply company I've worked with. Their product quality
                                and timely logistics give me peace of mind.‚Äù
                            </p>
                            <h5 class="fw-bold mt-3 mb-0 ">‚Äî John M., Kaduna</h5>
                            <small class="text-muted">Livestock Farmer</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <button class="carousel-control-prev" type="button" data-bs-target="#testimonialCarousel"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#testimonialCarousel"
                data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
            </button>
        </div>
    </div>
</section>
<!-- ===== END TESTIMONIALS SECTION ===== -->

<!-- ===== FRESH PROMO SECTION ===== -->
<section id="fresh-promo" class="py-5 text-center text-light fade-up">
    <div class="overlay"></div>
    <div class="container position-relative">
        <h2 class="fw-bold display-5 mb-3">Farm-Fresh Harvests, Every Season üçéü•ï</h2>
        <p class="lead mb-4">
            From vibrant vegetables to juicy fruits ‚Äî shop quality produce grown with care by local farmers.
        </p>
        <a href="#" class="btn btn-light btn-lg px-4 rounded-pill shadow-sm fw-semibold">
            <i class="bi bi-cart-fill me-2"></i> Shop Fresh Produce
        </a>
    </div>
</section>
<!-- ===== END FRESH PROMO SECTION ===== -->

<!-- ===== NEWSLETTER SECTION ===== -->
<section id="newsletter" class="py-5 fade-up">
    <div class="container text-center">
        <h2 class="fw-bold mb-3">Join Our Farming Community üåæ</h2>
        <p class="text-muted mb-4">
            Get exclusive farm tips, seasonal discounts, and product updates ‚Äî straight to your inbox.
        </p>

        <form class="newsletter-form d-flex flex-column flex-sm-row justify-content-center align-items-center gap-2">
            <input type="email" class="form-control form-control-lg w-50" placeholder="Enter your email" required>
            <button type="submit" class="btn btn-accent btn-lg px-4">
                <i class="bi bi-envelope-fill me-2"></i> Subscribe
            </button>
        </form>
    </div>
</section>
<!-- ===== END NEWSLETTER SECTION ===== -->

{% endblock %}

{% block extra_js %}
<script>
    // ===== GALLERY LIGHTBOX =====
    document.addEventListener('DOMContentLoaded', () => {
        const galleryItems = document.querySelectorAll('.gallery-item img, .swiper-slide img');
        const lightbox = document.getElementById('lightbox');

        // ‚úÖ Exit gracefully if lightbox doesn't exist
        if (!lightbox) return;

        const lightboxImg = lightbox.querySelector('img');
        const caption = lightbox.querySelector('.lightbox-caption');
        const closeBtn = lightbox.querySelector('.lightbox-close');
        const prevBtn = lightbox.querySelector('.lightbox-prev');
        const nextBtn = lightbox.querySelector('.lightbox-next');
        const viewFullGalleryBtn = document.getElementById('viewFullGallery');

        // ‚úÖ Also exit if there are no gallery images on the page
        if (!galleryItems.length) return;

        let currentIndex = 0;
        const images = Array.from(galleryItems).map(img => ({
            src: img.src,
            alt: img.alt || ''
        }));

        function openLightbox(index) {
            currentIndex = index;
            lightboxImg.src = images[currentIndex].src;
            caption.textContent = images[currentIndex].alt;
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }

        function showNext() {
            currentIndex = (currentIndex + 1) % images.length;
            openLightbox(currentIndex);
        }

        function showPrev() {
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            openLightbox(currentIndex);
        }

        // Bind image clicks
        galleryItems.forEach((img, i) => {
            img.addEventListener('click', () => openLightbox(i));
        });

        // Buttons and keys
        closeBtn?.addEventListener('click', closeLightbox);
        nextBtn?.addEventListener('click', showNext);
        prevBtn?.addEventListener('click', showPrev);

        document.addEventListener('keydown', e => {
            if (!lightbox.classList.contains('active')) return;
            if (e.key === 'Escape') closeLightbox();
            if (e.key === 'ArrowRight') showNext();
            if (e.key === 'ArrowLeft') showPrev();
        });

        // üåø Optional: View Full Gallery Button
        // viewFullGalleryBtn?.addEventListener('click', () => openLightbox(0));

        // ‚úÖ Initialize Swiper only if container exists
        const swiperEl = document.querySelector('.myGallerySwiper');
        if (swiperEl) {
            new Swiper(swiperEl, {
                slidesPerView: 1.2,
                spaceBetween: 15,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                breakpoints: {
                    480: { slidesPerView: 2 },
                    768: { slidesPerView: 3 },
                }
            });
        }
    });
</script>
{% endblock %}